<?php
    // HomeSample_All.xml
	$url = 'http://stage.quotewizard.com/LEADAPI/Services/InboundVendorServices.asmx';
	$xmlPayload = '
			  <!--Sample XML file generated by XMLSpy v2009 sp1 (http://www.altova.com)-->
			  <QuoteWizardData xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="QW.xsd">
			      <QuoteRequest DateTime="2001-12-17T09:30:47Z">
				<VendorData>
				  <LeadID>12345</LeadID>
				  <PubID>12345</PubID>
				  <SourceID>12345</SourceID>
				  <SubID>12345</SubID>
				  <GroupID>12345</GroupID>
				  <LeadType>ShortForm</LeadType>
				  <SourceIPAddress>255.255.255.255</SourceIPAddress>
				  <DateLeadReceived>1967-08-13</DateLeadReceived>
				</VendorData>
				<DistributionDirectives>
				  <DistributionDirective LeadDistributionCap="5">
				    <Entity Type="Company" Action="Exclude">AllState</Entity>
				    <Entity Type="Company" Action="Exclude">StateFarm</Entity>
				    <Entity Type="Company" Action="Exclude">Prudent</Entity>
				  </DistributionDirective>
				</DistributionDirectives>
				<HomeInsurance>
				  <Contact MaritalStatus="Single" Gender="Male">
				    <FirstName>Johnny</FirstName>
				    <LastName>Appleseed</LastName>
				    <Address1>1000 Main Street</Address1>
				    <Address2>Suite 2000</Address2>
				    <City>Fort Collins</City>
				    <County>Larimer</County>
				    <State>CO</State>
				    <ZIPCode>80521</ZIPCode>
				    <BirthDate>1967-02-24</BirthDate>
				    <EmailAddress>email@email.com</EmailAddress>
				    <PhoneNumbers>
				      <PrimaryPhone>
					      <PhoneNumberValue>970-498-5555</PhoneNumberValue>
				      </PrimaryPhone>
				      <SecondaryPhone>
					      <PhoneNumberValue>970-498-5555</PhoneNumberValue>
				      </SecondaryPhone>
				    </PhoneNumbers>
				    <Occupation>AdministrativeClerical</Occupation>
				    <HighestLevelOfEducation>SomeOrNoHighSchool</HighestLevelOfEducation>
				    <CreditRating SelfRating="Excellent"/>
				    <CurrentResidence ResidenceStatus="Own">
				      <OccupancyDate>1987-08-13</OccupancyDate>
				    </CurrentResidence>
				  </Contact>
				  <HomeInsuranceQuoteRequest>
				    <ResidenceProfile DogBreed="None" UsedForBusinessOrFarming="Yes" DwellingType="Condominium" OwnershipStatus="Own" SmokerInHousehold="Yes" OccupiedByApplicant="Yes" ResidenceType="Primary">
				      <ResidenceLocation>
					<ResidenceAddress1>1000 Main Street</ResidenceAddress1>
					<ResidenceAddress2>Suite 2000</ResidenceAddress2>
					<ResidenceCity>Fort Collins</ResidenceCity>
					<ResidenceCounty>Larimer</ResidenceCounty>
					<ResidenceState>CO</ResidenceState>
					<ResidenceZIPCode>80521</ResidenceZIPCode>
				      </ResidenceLocation>
				      <ConstructionProfile HeatingType="GasForcedAir" PropertyInFloodplain="Yes" FireStationProximity="Within5Miles" FireHydrantProximity="Within1000Feet" ServicePanelType="CircuitBreaker" RoofType="CompositionShingle" RoofAge="OneTo5Years" FoundationType="No basement at all" GarageType="NoGarage" DesignType="OneStory" WiringType="Copper" ExteriorWallType="MostlyBrick">
					<YearBuilt>1928</YearBuilt>
					<ResidenceSquareFootage>900</ResidenceSquareFootage>
					<NumberBedrooms>2</NumberBedrooms>
					<NumberBathrooms>1 Bath</NumberBathrooms>
					<NumberUnits>8</NumberUnits>
					<NumberRooms>4</NumberRooms>
					<ConstructionDescription>Description</ConstructionDescription>
				      </ConstructionProfile>
				      <ResidenceAccessories DeckPatio="Yes" CentralAir="Yes" Sauna="Yes" Fireplace="Yes" SumpPump="Yes" InGroundPool="Yes" HotTub="No" Trampoline="Yes" PoolFence="No" WoodBurningStove="Yes" AirConditioning="No">
					<OtherResidenceAccessoriesDescription>Description</OtherResidenceAccessoriesDescription>
				      </ResidenceAccessories>
				      <ResidenceSecurityFeatures IndoorFireSprinkler="Yes" DeadboltLocks="Yes" SmokeAlarm="Yes" AudioAlarmOnly="Yes" MonitoredAlarmSystem="No" FireExtinguishers="No">
					<OtherResidenceSecurityFeaturesDescription>Description</OtherResidenceSecurityFeaturesDescription>
				      </ResidenceSecurityFeatures>
				    </ResidenceProfile>
				    <InsuranceProfile>
				      <RequestedPolicy NewHome="Yes">
					<StartDate>2009-08-13</StartDate>
					<RequestedCoverages>
					  <RequestedCoverage>
					    <CoverageAmount PersonalLiability="100000" Deductible="100">250000</CoverageAmount>
					  </RequestedCoverage>
					  <CoverageComment>Comment</CoverageComment>
					</RequestedCoverages>
				      </RequestedPolicy>
				      <CurrentPolicy>
					<InsuranceCompany>
					  <CompanyName>Commerce West</CompanyName>
					</InsuranceCompany>
					<StartDate>2008-08-13</StartDate>
					<ExpirationDate>2009-08-12</ExpirationDate>
				      </CurrentPolicy>
				      <ContinuouslyInsuredSinceDate>1990-02-12</ContinuouslyInsuredSinceDate>
				    </InsuranceProfile>
				    <ValuableItems>
				      <ValuableItem Type="Fine Art" Value="25000"/>
				    </ValuableItems>
				    <Claims>
				      <Claim IncidentType="FireOrLightningDamage">
					<ClaimDate>1992-08-01</ClaimDate>
					<InsurancePaidAmount>1549</InsurancePaidAmount>
					<IncidentDescription>Description</IncidentDescription>
				      </Claim>
				    </Claims>
				    <Comment>Comment</Comment>
				  </HomeInsuranceQuoteRequest>
				</HomeInsurance>
			      </QuoteRequest>
			  </QuoteWizardData>
			  ';
	
	$xmlRequest = '<?xml version="1.0" encoding="utf-8"?>
			  <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
					 xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
			  <soap:Body>
			    <SubmitVendorLead xmlns="http://www.quotewizard.com/">
			    <vendor>VendorName</vendor>
			    <contractID>45b5dd90-2161-40f0-aed9-41f14fe6c9b9</contractID>
			    <quoteData>'.$xmlPayload.'</quoteData>
			    <initialID>
			    </initialID>
			    <format>XML</format>
			    <pass>0</pass>
			    </SubmitVendorLead>
			  </soap:Body>
			  </soap:Envelope>
		      ';
	$curlParams = array('url' => $url,
			    'xml' => $xmlPayload
			   );

	$ch = curl_init($url);
	curl_setopt($ch, CURLOPT_URL, $url);
	curl_setopt($ch, CURLOPT_POST, true);
	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
	curl_setopt($ch, CURLOPT_POSTFIELDS, $xmlRequest);
	curl_setopt($ch, CURLOPT_HTTPHEADER, array("Content-type: text/xml",
						   "Content-length: " . strlen($xmlPayload),
						   "Connection: close",
						   "SOAPAction: http://www.quotewizard.com/SubmitVendorLead"));

	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false );

	$response = curl_exec($ch);
	var_dump( htmlentities($response) );
?>